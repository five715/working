<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<meta http-equiv="Access-Control-Allow-Origin" content="thirdqq.qlogo.cn">
<title>我的年度表情</title>
<link rel="stylesheet" href="css/VogsoStyle-1.0.0.css">
<link rel="stylesheet" href="css/style.css">
<script src="js/libs/jquery-3.2.1.min.js"></script>
<script src="js/libs/easeljs.js"></script>
<script src="js/libs/preloadjs.min.js"></script>
<script src="js/data.js"></script>
<script src="js/common.js"></script>
<script src="js/Poster.class.js"></script>
<script src="js/libs/Vogsojs-1.0.0.js"></script>
</head>
<body>
<audio src="sounds/sound_1.mp3" loop preload class="sound3"></audio>
<div class="box">
	<!--弹窗-->
	<div class="popup">
		<div class="popup_poster pop">
			<div class="poster">
				<img src="images/popup_poster_pic.jpg"/>
			</div>
			<div class="hint">
				<img src="images/popup_poster_hint.png"/>
			</div>
		</div>
	</div>
	<!--loading-->
	<div class="loading">
		<img src="images/loading_bg.jpg"/>
		<div class="ioc"></div>
		<div class="plan">
			<div class="overflow">
				<div class="hidden">
					<img src="images/loading_plan.png" />
				</div>
			</div>
			<div class="plan_box">
				<img src="images/loading_plan_bg.png" />
			</div>
		</div>
		<div class="per">50%</div>
	</div>
	<!--首页-->
	<div class="index">
		<img src="images/index_bg.jpg"/>
		<div class="boxes">
			<img src="images/index_box_bg.png"/>
			<div class="tit">
				<img src="images/index_boxes_tit_31.png" class="alter"/>
			</div>
			<div class="pic">
				<img src="images/index_boxes_pic_31.png" class="alter"/>
			</div>
			<div class="left">
				<img src="images/index_boxes_left_31.png" class="alter"/>
			</div>
			<div class="right">
				<img src="images/index_boxes_right_31.png" class="alter"/>
			</div>
			<div class="yi">
				<img src="images/index_boxes_yi_1.png" class="alter"/>
			</div>
			<div class="ji">
				<img src="images/index_boxes_ji_1.png" class="alter"/>
			</div>
		</div>
		<div class="btn">
			<img src="images/index_btn.png"/>
		</div>
		<div class="logo">
			<img src="images/logo.png"/>
		</div>
		<video src="videos/index.mp4" playsinline webkit-playsinline preload class="video"></video>
	</div>
	<!--答题-->
	<div class="answer">
		<img src="images/loading_bg.jpg"/>
		<div class="plan">
			<div class="overflow">
				<div class="hidden">
					<img src="images/loading_plan.png" />
				</div>
			</div>
			<div class="plan_box">
				<img src="images/loading_plan_bg.png" />
			</div>
		</div>
		<div class="per">10s</div>
		<div class="issue">
			<p>下列人设识别中，你属于</p>
		</div>
		<div class="ans">
			<div class="gif_bg">
				<img src="images/iusse_gif_bg_6.png"/>
			</div>
			<div class="gif"></div>
			<div class="choices">
				<div class="choice choice_1" data-n="1"><img src="images/choice_1_1.jpg" alt="" /></div>
				<div class="choice choice_2" data-n="2"><img src="images/choice_1_2.jpg" alt="" /></div>
				<div class="choice choice_3" data-n="3"><img src="images/choice_1_3.jpg" alt="" /></div>
				<div class="choice choice_4" data-n="4"><img src="images/choice_1_4.jpg" alt="" /></div>
				<div class="choice choice_5" data-n="5"><img src="images/choice_1_5.jpg" alt="" /></div>
				<div class="choice choice_6" data-n="6"><img src="images/choice_1_6.jpg" alt="" /></div>
			</div>
		</div>
		<div class="play">
			<img src="images/ioc_play.png"/>
		</div>
	</div>
	<!--结果-->
	<div class="result">
		<img src="images/index_bg.jpg"/>
		<div class="title">
			<img src="images/result_title.png"/>
		</div>
		<div class="emoji">
			<img src="images/result_emoji_10.jpg"/>
		</div>
		<div class="seal">
			<img src="res/seal.png"/>
		</div>
		<div class="text">
			<p>你是一个没有感情的酒精容器</p>
		</div>
		<div class="btn_not_me">
			<img src="images/result_not_me.png"/>
		</div>
		<div class="btn_friend">
			<img src="images/result_friend.png"/>
		</div>
		<canvas id="poster" width="579" height="882"></canvas>
	</div>
</div>
</body>
<script type="text/javascript" charset="utf-8" src="//mat1.gtimg.com/news/yuanwt/jquery-1.11.3.min.js"></script>
<script type="text/javascript">
	var UA = function() {
 	var a = navigator.userAgent.toLowerCase();
 	return {
 		ipad: /ipad/.test(a),
 		iphone: /iphone/.test(a),
 		android: /android/.test(a),
 		qqnews: /qqnews/.test(a),
 		weixin: /micromessenger/.test(a),
 		qqnews_version: a.match(/qqnews/i) == "qqnews" ? a.split('qqnews/')[1] : ''
 	}
 };

 function shareQQNews() {
 	var a = UA();
 	switch(true) {
 		case a.qqnews:
 			if(window.TencentNews && window.TencentNews.setShareArticleInfo) {
 				window.TencentNews.setShareArticleInfo(shareData.title, shareData.desc, shareData.desc, shareData.link, shareData.img)
 			}
 			if(window.TencentNews && window.TencentNews.showShareMenu) {
 				window.TencentNews.showShareMenu(shareData.link, shareData.title, shareData.desc, shareData.img, "news_news_wc")
 			} else {
 				window.TencentNews.shareFromWebView(shareData.title, shareData.desc, shareData.img)
 			}
 			break;
 		case a.weixin:
 			var b = document.querySelector(".weixin_layout");
 			b.style.display = "block";
 			b.addEventListener("click", function() {
 				b.style.display = "none"
 			});
 			break;
 		default:
 			window.location = "http://share.v.t.qq.com/index.php?c=share&a=index&appkey=801378464&url=" + shareData.link + "&title=" + shareData.desc + "&pic=" + shareData.img + "&des=" + shareData.title;
 			break
 	}
 };

 function onBridgeReady() {
 	WeixinJSBridge.on("menu:share:timeline", function(e) {
 		var b = {
 			img_width: "120",
 			img_height: "120",
 			img_url: shareData.img,
 			link: shareData.link,
 			desc: shareData.desc,
 			title: shareData.title
 		};
 		WeixinJSBridge.invoke("shareTimeline", b, function(a) {
 			WeixinJSBridge.log(a.err_msg)
 		})
 	});
 	WeixinJSBridge.on("menu:share:weibo", function() {
 		WeixinJSBridge.invoke("shareWeibo", {
 			"content": shareData.desc,
 			"url": shareData.link
 		}, function(a) {
 			WeixinJSBridge.log(a.err_msg)
 		})
 	});
 	WeixinJSBridge.on('menu:share:appmessage', function(b) {
 		WeixinJSBridge.invoke("sendAppMessage", {
 			img_width: "120",
 			img_height: "120",
 			img_url: shareData.img,
 			link: shareData.link,
 			desc: shareData.desc,
 			title: shareData.title
 		}, function(a) {
 			WeixinJSBridge.log(a.err_msg)
 		})
 	})
 };
 document.addEventListener('WeixinJSBridgeReady', function() {
 	onBridgeReady()
 });

 function androidQQNewsShare() {
 	var a = document.getElementsByTagName('body')[0];
 	var b = document.createElement('script');
 	b.type = 'text/javascript';
 	b.src = '//mat1.gtimg.com/www/js/newsapp/jsapi/news.js?_tsid=1';
 	a.appendChild(b)
 }
   androidQQNewsShare();
 var nickname = '我的';
 var headimgurl = '//news.qq.com/zt2018/jjhjh5/photo.jpg';
 if(UA().weixin) {
 	function getUserInfo() {
 		$.ajax({
 			url: 'https://yc.static.qq.com/?service=App.Getinfo_Getinfo.getindex',
 			dataType: 'jsonp',
 			jsonp: "callback",
 			jsonpCallback: "infocallback",
 			success: function(data) {
 				infocallback(data)
 			}
 		})
 	}

 	function getwxUsrInfo() {
 		var g_appid = "wxca92e8bcb9f28c93";
 		var authserver = "https://yc.static.qq.com/?service=App.Getinfo_Getinfo.Getuserinfo&original_uri=" + encodeURIComponent(location.href);
 		var url = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=' + g_appid + '&redirect_uri=' + encodeURIComponent(authserver) + '&response_type=code&scope=snsapi_userinfo&state=' + encodeURIComponent(location.href) + '#wechat_redirect';
 		document.location.href = url
 	}

 	function infocallback(e) {
 		if(e.data.openid == null) {
 			getwxUsrInfo()
 		} else {
 			nickname = e.data.nickname;
 			headimgurl = e.data.headimgurl
 		}
 	}
 	getUserInfo()
 } else {
 	$.get('//imgcache.qq.com/tencentvideo_v1/tvp/js/module/tvp.login.js', function() {
 		txvLogin.isQQLogin(function(isqqlogin) {
 			if(isqqlogin) {
 				txvLogin.requestQQInfo(function(user_data) {
 					nickname = user_data.nick;
 					headimgurl = user_data.qqface
 				})
 			} else {
 				txvLogin.openQQLogin()
 			}
 		})
 	})
 };
</script>
</html>